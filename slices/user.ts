import {createAdminUser, createAppointmentForPatient, createCalendarEvent, createChat, createClinicalVisitForPatient, createDischargeSummaryForClinicalVisit, createEncounterForClinicalVisit, createForInvoice, createGuestForPatient, createInvoiceForClinicalVisit, createLabScanForEncounter, createLabTestForEncounter, createLabTestResult, createManager, createMedicForHospital, createMedicationForPatient, createMessageForChat, createNonMedicForHospital, createPatientForHospital, fetchActivityLogsByHospital, fetchAdminUsers, fetchAppointmentByCalendarEvent, fetchAppointmentById, fetchAppointmentsByMedic, fetchAppointmentsForCurrentMedic, fetchAppointmentsForCurrentPatient, fetchAppointmentsForPatient, fetchCalendarEventById, fetchCalendarEventsByUser, fetchChatById, fetchChatMessageById, fetchChatMessagesByChat, fetchChats, fetchClinicalVisitById, fetchClinicalVisitsForCurrentPatient, fetchClinicalVisitsForPatient, fetchCurrentGuest, fetchCurrentManager, fetchCurrentMedic, fetchCurrentNonMedic, fetchCurrentPatient, fetchCurrentUserCalendarEvents, fetchCurrentUserProfile, fetchEncounterById, fetchEncountersByClinicalVisit, fetchGuestsForCurrentPatient, fetchInvoiceById, fetchInvoicesByHospital, fetchInvoicesForCurrentPatient, fetchInvoicesForPatient, fetchLabScansByEncounter, fetchLabScansForCurrentPatient, fetchLabScansForPatient, fetchLabTestByCode, fetchLabTestsByHospital, fetchLabTestsForCurrentPatient, fetchLabTestsForPatient, fetchManagerByHospital, fetchMedicationsForCurrentPatient, fetchMedicationsForPatient, fetchMedicsByHospital, fetchMedicsCalendarEventsByHospital, fetchNonMedicsByHospital, fetchPatientById, fetchPatientsByHospital, fetchTransactionsByHospital, fetchTransactionsForCurrentPatient, fetchTransactionsForPatient, fetchUserProfileById, fetchUsers, rescheduleAppointment, settleInvoice, setupUser, shareLabTest, stopShareLabTest, updateCalendarEvent, updateCurrentManager, updateCurrentMedic, updateCurrentNonMedic, updateEncounter, updateGuest, updateLabScan, updateLabTestResult, updatePatient, updateServicesMedic, updateStatusAppointment, updateUserProfile} from '../thunks';
import {createSlice, isAnyOf} from '@reduxjs/toolkit';

import usersAdapter from '../adapters/user';

export const usersSlice = createSlice({
    name: 'users',
    initialState: usersAdapter.getInitialState(),
    reducers: {},
    extraReducers: (builder) => {
        builder.addMatcher(isAnyOf(createAdminUser.fulfilled, createAppointmentForPatient.fulfilled, createCalendarEvent.fulfilled, createChat.fulfilled, createClinicalVisitForPatient.fulfilled, createDischargeSummaryForClinicalVisit.fulfilled, createEncounterForClinicalVisit.fulfilled, createForInvoice.fulfilled, createGuestForPatient.fulfilled, createInvoiceForClinicalVisit.fulfilled, createLabScanForEncounter.fulfilled, createLabTestForEncounter.fulfilled, createLabTestResult.fulfilled, createManager.fulfilled, createMedicForHospital.fulfilled, createMedicationForPatient.fulfilled, createMessageForChat.fulfilled, createNonMedicForHospital.fulfilled, createPatientForHospital.fulfilled, fetchActivityLogsByHospital.fulfilled, fetchAdminUsers.fulfilled, fetchAppointmentByCalendarEvent.fulfilled, fetchAppointmentById.fulfilled, fetchAppointmentsByMedic.fulfilled, fetchAppointmentsForCurrentMedic.fulfilled, fetchAppointmentsForCurrentPatient.fulfilled, fetchAppointmentsForPatient.fulfilled, fetchCalendarEventById.fulfilled, fetchCalendarEventsByUser.fulfilled, fetchChatById.fulfilled, fetchChatMessageById.fulfilled, fetchChatMessagesByChat.fulfilled, fetchChats.fulfilled, fetchClinicalVisitById.fulfilled, fetchClinicalVisitsForCurrentPatient.fulfilled, fetchClinicalVisitsForPatient.fulfilled, fetchCurrentGuest.fulfilled, fetchCurrentManager.fulfilled, fetchCurrentMedic.fulfilled, fetchCurrentNonMedic.fulfilled, fetchCurrentPatient.fulfilled, fetchCurrentUserCalendarEvents.fulfilled, fetchCurrentUserProfile.fulfilled, fetchEncounterById.fulfilled, fetchEncountersByClinicalVisit.fulfilled, fetchGuestsForCurrentPatient.fulfilled, fetchInvoiceById.fulfilled, fetchInvoicesByHospital.fulfilled, fetchInvoicesForCurrentPatient.fulfilled, fetchInvoicesForPatient.fulfilled, fetchLabScansByEncounter.fulfilled, fetchLabScansForCurrentPatient.fulfilled, fetchLabScansForPatient.fulfilled, fetchLabTestByCode.fulfilled, fetchLabTestsByHospital.fulfilled, fetchLabTestsForCurrentPatient.fulfilled, fetchLabTestsForPatient.fulfilled, fetchManagerByHospital.fulfilled, fetchMedicationsForCurrentPatient.fulfilled, fetchMedicationsForPatient.fulfilled, fetchMedicsByHospital.fulfilled, fetchMedicsCalendarEventsByHospital.fulfilled, fetchNonMedicsByHospital.fulfilled, fetchPatientById.fulfilled, fetchPatientsByHospital.fulfilled, fetchTransactionsByHospital.fulfilled, fetchTransactionsForCurrentPatient.fulfilled, fetchTransactionsForPatient.fulfilled, fetchUserProfileById.fulfilled, fetchUsers.fulfilled, rescheduleAppointment.fulfilled, settleInvoice.fulfilled, setupUser.fulfilled, shareLabTest.fulfilled, stopShareLabTest.fulfilled, updateCalendarEvent.fulfilled, updateCurrentManager.fulfilled, updateCurrentMedic.fulfilled, updateCurrentNonMedic.fulfilled, updateEncounter.fulfilled, updateGuest.fulfilled, updateLabScan.fulfilled, updateLabTestResult.fulfilled, updatePatient.fulfilled, updateServicesMedic.fulfilled, updateStatusAppointment.fulfilled, updateUserProfile.fulfilled), (state, action) => {
            usersAdapter.upsertMany(state, action.payload.entities.users);
        });
    },
});

export const usersReducer = usersSlice.reducer;

export const usersActions = usersSlice.actions;